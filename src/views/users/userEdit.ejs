<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/head') -%>
        <link rel="stylesheet" href="/css/editUser.css">
        <title>Edita tu perfil</title>
</head>

<body>
    <div>
        <%- include('../partials/header') %>
    </div>
    <main class="main">
        <div class="div-container">
            <article class="profileUser">
                <div class="container-image">
                    <img src="/img/user_photo/<%= user.Image[0].avatar %>" alt="imagen del usuario">
                </div>
                <h2>
                    <%= user.name + " " + user.lastname %>
                </h2>
            </article>
            <form class="formulario" action="/administration/edit/<%= user.id %>" method="POST"
                enctype="multipart/form-data">
                <section>
                    <article class="article">
                        <div class="boxes">
                            <label>Cambiar foto de perfil
                                <br>
                                <input type="file" name="avatarEdit" id="avatarEdit" class="file"
                                ><!-- onchange="ValidarImagen(this);" -->
                            </label>
                        </div>
                        <div class="boxes">
                            <label class="nombre">Cambiar nombre de usuario:
                                <br>
                                <input type="text" name="name" id="name" class="campo" value="<%= locals.data && data.name ? data.name : user.name %>">
                            </label>
                            <small id="msgName"></small>
                            <% if( locals.validationErrors && validationErrors.name ) { %>
                                <h4>
                                    <%= validationErrors.name.msg %>
                                </h4>
                                <% } %>
                        </div>
                        <div class="boxes">
                            <label class="nombre">Cambiar apellido:
                                <br>
                                <input type="text" name="lastname" id="lastName" class="campo"
                                    value="<%= locals.data && data.lastname ? data.lastname : user.lastname %>">
                            </label>
                            <small id="msgLastName"></small>
                            <% if( locals.validationErrors && validationErrors.lastName ) { %>
                                <h4>
                                    <%= validationErrors.lastName.msg %>
                                </h4>
                                <% } %>
                        </div>
                    </article>
                    <article class="article">
                        <div class="boxes">
                           
                            <label class="nombre">Cambiar email:
                                <br>
                                <input type="email" name="email" id="email"  value="<%= locals.data && data.email ? data.email : user.email %>" class="campo">
                            </label>
                            <small id="msgEmail"></small>
                            <% if( locals.validationErrors && validationErrors.email ){ %>
                                <h4>
                                    <%= validationErrors.email.msg %>
                                </h4>
                                <% } %>
                        </div>
                        <div class="boxes">
                            <label class="nombre">Cambiar contrase√±a:
                                <br>
                                <input type="password" name="password" id="password" value="<%= locals.data && data.password ? data.password : user.password %>"
                                    class="campo">
                            </label>
                            <small id="msgPassword"></small>
                            <% if(locals.validationErrors && validationErrors.password ){ %>
                                <h4>
                                    <%= validationErrors.password.msg %>
                                </h4>
                                <% } %>
                        </div>
                        <!-- 
                        <div class="boxes">
                            <label class="nombre">Role:
                                <br>
                                <input type="number" name="Role" id="Role" value="<%# user.Role %>" class="campo">
                            </label>
                        </div> -->
                        <div class="box">
                            <button type="submit" class="button">Editar Usuario</button>
                        </div>
                    </article>
                </section>
            </form>
        </div>
    </main>
    <div>
        <%- include('../partials/footer') %>
    </div>
    <script src="/js/userEdit.js" text="text/javascript"></script>
</body>

</html>